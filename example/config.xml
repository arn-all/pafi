<PAFI>
  <!-- omit trailing forward slash -->
  <DumpFolder>./dumps</DumpFolder>

  <!-- Number of samples per plane per worker -->
  <nRepeats> 1 </nRepeats>


  <!-- LowTemperature to HighTemperature in TemperatureSteps steps -->
  <LowTemperature> 100 </LowTemperature>
  <HighTemperature> 1000 </HighTemperature>
  <TemperatureSteps> 4 </TemperatureSteps>

  <!-- Data gathering steps -->
  <SampleSteps> 100 </SampleSteps>

  <!-- We require ThermSteps > ThermWindow AND ThermSteps%ThermWindow==0 -->
  <ThermSteps> 200 </ThermSteps>
  <ThermWindow> 100 </ThermWindow>

  <MinSteps> 200 </MinSteps>

  <nPlanes> 11 </nPlanes>

  <!-- We require nprocs % CoresPerWorker==0 -->
  <CoresPerWorker> 1 </CoresPerWorker>

  <!--
    RELATIVE thermal expansion coefficients along X,Y,Z directions of simulation-
    X -> X *(1 + LinearThermalExpansionX*T + QuadraticThermalExpansionX*T^2)
    Y -> X *(1 + LinearThermalExpansionY*T + QuadraticThermalExpansionY*T^2)
    Z -> X *(1 + LinearThermalExpansionZ*T + QuadraticThermalExpansionZ*T^2)
  -->
  <LinearThermalExpansionX>0.0</LinearThermalExpansionX>
  <QuadraticThermalExpansionX>0.0</QuadraticThermalExpansionX>
  <LinearThermalExpansionY>0.0</LinearThermalExpansionY>
  <QuadraticThermalExpansionY>0.0</QuadraticThermalExpansionY>
  <LinearThermalExpansionZ>0.0</LinearThermalExpansionZ>
  <QuadraticThermalExpansionZ>0.0</QuadraticThermalExpansionZ>


  <!-- fix hp parameters (LAMMPS units) -->
  <OverDamped> 1 </OverDamped>
  <!-- Recommended 'units metal' value: 0.01 (0.1x typical LAMMPS value of 0.1) -->
  <Friction> 0.01 </Friction>

  <!-- 0/1 Output LAMMPS logs -->
  <LogLammps> 0 </LogLammps>

  <!--
   0 : (Default) Output time-and-ensemble averaged in-plane deviation from reference pathway. Can indicate finite temperature path but will have sampling noise
   1 : Output ensemble averaged in-plane deviation following in-plane minimization post-run. No noise but will lose some/all features of path
  -->
  <PostDump> 0 </PostDump>
  <PreMin> 1 </PreMin>

  <!-- for NEB planes -->
  <StartCoordinate> 0.0 </StartCoordinate>
  <StopCoordinate> 1.0 </StopCoordinate>

  <!-- Maximum Atomic Displacement between local in-plane minima
  before and after sampling run which can still be considered "in basin"
  Check for shallow metastability on hyperplane
  -->
  <MaxJump> 0.1 </MaxJump>
  <!-- Resample a batch if less than this proportion are "in-basin" -->
  <ReSampleThresh> 0.8 </ReSampleThresh>
  <!-- How many resample attempts -->
  <maxExtraRepeats> 1 </maxExtraRepeats>

  <Scripts>
    <Script name="Input">
      units metal
      atom_style atomic
      atom_modify map array sort 0 0.0
      neigh_modify every 2 delay 10 check yes page 1000000 one 100000
      read_data  md/image_1.dat
      pair_style    eam/fs
      pair_coeff * * md/Fe.eam.fs Fe
      run 0
      thermo 10
      run 0
    </Script>
    <!-- fixes for applied stress / boundary planes etc -->
    <!-- example for dislocation stress
    <Script name="PreRun">
	region couchetop block INF INF INF INF 158.4 INF units box
	region couchebot block INF INF INF INF INF 6.5 units box
	group couchetop region couchetop
	group couchebot region couchebot
	fix freezetop couchetop setforce NULL NULL 0.0
	fix freezebot couchebot setforce NULL NULL 0.0
    </Script>

    <Script name="PostRun">
	unfix freezetop
	unfix freezebot
	group couchetop delete
	group couchebot delete
	region couchetop delete
	region couchebot delete
    </Script>
    -->
    <Script name="PreRun">
    </Script>

    <!-- Turn them off each time -->
    <Script name="PostRun">
    </Script>
  </Scripts>

  <KnotList>
    md/image_1.dat
    md/image_2.dat
    md/image_3.dat
    md/image_4.dat
    md/image_5.dat
    md/image_6.dat
    md/image_7.dat
    md/image_8.dat
    md/image_9.dat
  </KnotList>

</PAFI>
